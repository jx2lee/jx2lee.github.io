<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <link rel="manifest" href="/images/manifest.json">
  <meta name="msapplication-config" content="/images/browserconfig.xml">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"jx2lee.github.io","root":"/","scheme":"Muse","version":"7.7.2","exturl":false,"sidebar":{"position":"right","display":"hide","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":true,"show_result":true,"style":"default"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"appID":"Z4A3UF1R2X","apiKey":"dee49d5f8367c0f900b64906cfe42f19","indexName":"my_blog","hits":{"per_page":10},"labels":{"input_placeholder":"무엇을 검색하시나요?","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="hackerrank에서 제공하는 Database 카테고리의 OLAP 문제를 풀어보고 개념을 정리한다.">
<meta property="og:type" content="article">
<meta property="og:title" content="[Database] OLAP">
<meta property="og:url" content="https://jx2lee.github.io/hackerrank-olap/index.html">
<meta property="og:site_name" content="머릿속에 안남으니 기록하자:">
<meta property="og:description" content="hackerrank에서 제공하는 Database 카테고리의 OLAP 문제를 풀어보고 개념을 정리한다.">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2019-10-22T15:00:00.000Z">
<meta property="article:modified_time" content="2020-03-30T15:06:23.577Z">
<meta property="article:author" content="JaeJun Lee">
<meta property="article:tag" content="Hackerrank">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://jx2lee.github.io/hackerrank-olap/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>[Database] OLAP | 머릿속에 안남으니 기록하자:</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

  <!-- Google AdSense start -->
  <script data-ad-client="ca-pub-2024744229492552" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

  <!-- Google AdSense end -->
  <meta name="google-site-verification" content="mt-wza5WUtvq1j8P-WsZN7mrSgXgOawPOdnhsjdlUGg" />
<link rel="alternate" href="/rss2.xml" title="머릿속에 안남으니 기록하자:" type="application/rss+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">머릿속에 안남으니 기록하자:</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">focusing@</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section">About</a>

  </li>
        <li class="menu-item menu-item-posts">

    <a href="/" rel="section">Posts</a>

  </li>
        <li class="menu-item menu-item-github">

    <a href="https://github.com/jx2lee" rel="noopener" target="_blank">Github</a>

  </li>
        <li class="menu-item menu-item-linkedin">

    <a href="https://www.linkedin.com/in/jaejun-lee-3287b0137/" rel="noopener" target="_blank">LinkedIn</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger">Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container"></div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="algolia-results">
  <div id="algolia-stats"></div>
  <div id="algolia-hits"></div>
  <div id="algolia-pagination" class="algolia-pagination"></div>
</div>

      
    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://jx2lee.github.io/hackerrank-olap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="JaeJun Lee">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="머릿속에 안남으니 기록하자:">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          [Database] OLAP
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-10-23 00:00:00" itemprop="dateCreated datePublished" datetime="2019-10-23T00:00:00+09:00">2019-10-23</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Database/" itemprop="url" rel="index"><span itemprop="name">Database</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/hackerrank-olap/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="hackerrank-olap/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>hackerrank에서 제공하는 Database 카테고리의 OLAP 문제를 풀어보고 개념을 정리한다.</p>
<a id="more"></a>

<h1 id="OLAP-The-Total-view"><a href="#OLAP-The-Total-view" class="headerlink" title="OLAP - The Total view"></a>OLAP - The Total view</h1><h2 id="문제"><a href="#문제" class="headerlink" title="문제"></a>문제</h2><p>Which of these provides a total view of the organization?</p>
<p>1) OLAP<br>2) OLTP<br><strong>3) Data Warehousing</strong><br>4) Database</p>
<h2 id="풀이"><a href="#풀이" class="headerlink" title="풀이"></a>풀이</h2><p>왜 틀렸는지를 모르겠는 문제이다. <code>1번, 2번, 4번</code>이 결국 <code>3번 : Data Warehousing</code>에 포함된 내용이다. 각각의 개념을 간단히 정리해보면 아래와 같다. <em>(4번의 경우 <code>PASS</code>)</em></p>
<blockquote>
<p><strong>OLAP</strong><br>데이터 집계를 효율화하는 접근 방법 중 하나로, <code>다차원 모델</code>구조를 <code>MDX (Multidimensional expressions)</code> 등의 쿼리 언어로 집계한다. 다차원 모델 구조를 <em>OLAP 큐브</em>라 하며 이러한 큐브를 이용해 크로스 집계하는 구조가 <strong>OLAP</strong>이다.</p>
<p><strong>OLTP (Online Transaction Processing)</strong><br>정의는 <code>실시간으로 서버(DB)가 자료를 처리하는 과정</code> 인데, 사실 OLAP vs OLTP를 비교하는 것을 주로 보았는데 정확한 의미를 모르겠다. OLAP은 하나의 기술로 보는것인지, OLTP는 <code>기술이 아닌 실시간성 처리 과정</code>으로 봐야하는지는 좀 더 살펴본 이후에 자세히 정리해야겠다.</p>
<p> <strong>Data Warehousing</strong><br> Data Warehouse를 설계하고 사용하는 과정을 뜻하는 단어이다. <code>Data Warehouse</code> 특징을 살펴보면 다음과 같다.</p>
<ul>
<li>Web Server 또는 RDB와 달리 <code>대량 데이터 장기 보존</code> 최적화</li>
<li>정리된 데이터 전송 기능은 뛰어나지만, 소량 데이터의 경우 적합하지 않음</li>
<li>업무 처리에 있어 함부로 사용해 시스템 과부하 초래는 위험함, 이러한 문제로 필요한 데이터만을 추출하여 <code>데이터 마트 (Data Mart)</code>를 구성함</li>
</ul>
</blockquote>
<p>[참고] : 빅데이터를 지탱하는 기술, Wikipedia</p>
<h1 id="OLAP-OLAP-Operation-Types"><a href="#OLAP-OLAP-Operation-Types" class="headerlink" title="OLAP - OLAP Operation Types"></a>OLAP - OLAP Operation Types</h1><h2 id="문제-1"><a href="#문제-1" class="headerlink" title="문제"></a>문제</h2><p>Consider a fact table DataPoints(D1,D2,D3,x), and the following three queries:</p>
<p>Q1: Select D1,D2,D3,Sum(x) From DataPoints Group By D1,D2,D3<br>Q2: Select D1,D2,D3,Sum(x) From DataPoints Group By D1,D2,D3 WITH CUBE<br>Q3: Select D1,D2,D3,Sum(x) From DataPoints Group By D1,D2,D3 WITH ROLLUP</p>
<p>Suppose attributes D1, D2, and D3 have n1, n2, and n3 different values respectively, and assume that each possible combination of values appears at least once in the table DataPoints. The number of tuples in the result of each of the three queries above can be specified as an arithmetic formula involving n1, n2, and n3. Pick the one tuple (a,b,c,d,e,f) in the list below such that when n1=a, n2=b, and n3=c, then the result sizes of queries Q1, Q2, and Q3 are d, e, and f respectively.</p>
<p>1) (2, 2, 2, 6, 18, 8)<br>2) (2, 2, 2, 8, 64, 15)<br>3) (5, 10, 10, 500, 1000, 550)<br><strong>4) (4, 7, 3, 84, 160, 117)</strong></p>
<h2 id="풀이-1"><a href="#풀이-1" class="headerlink" title="풀이"></a>풀이</h2><p>문제를 잘못 이해해 푸는데 오래 걸렸다. 주어진 보기 4개 tuple의 앞에 3개는 각각 D1, D2, D3칼럼의 value 들이었다. 따라서, 각 지문의 3개 숫자 <em>(ex. 1번 보기는 2,2,2 -&gt; D1, D2, D3)</em> 로 operation <code>CUBE</code> 및 <code>ROLL UP</code> 을 수행한 후 조회되는 행의 갯수를 맞추는 문제이다. <strong>Q1</strong>은 쉽게 구할 수 있었고 <code>CUBE</code> 및 <code>ROLLUP</code> 연산을 구글을 통해 살펴보았다.</p>
<p>우선 <code>CUBE</code> operation은  모든 차원에서 모든 속성 조합을 사용한다. 이는 곧, <code>NULL</code> 구문을 사용하기 때문에 group by로 조회수와는 다르게 아래와 같이 계산된다.</p>
<p><code>(n1 + 1) * (n2 + 1) * (n3 + 1)</code></p>
<p>마지막으로 <code>ROLLUP</code> operation은 <code>NULL</code>이 있는 속성을 포함하여 속성 tuple을 생성한다. 이에 기존 <code>CUBE</code> 연산을 통해 나온 수와 <code>ROLLUP</code>연산을 통해 계산되는 tuple 수를 더해준다. 식은 아래와 같다.</p>
<p><code>[기존 CUBE로 계산된 수] + n1 * (n2 + 1) + 1</code></p>
<blockquote>
<p>ROLLUP 이라 함은 Drill Down (operation 중 하나)과 달리 작은 범위에서 큰 범위의 단계적 접근 분석 방법을 말한다 <em>(ex. 번지 -&gt; 동 -&gt; 구 -&gt; 시도 -&gt; 광역)</em>. 위에 기존 CUBE 연산을 통한 값과 그 뒤에 새로운 추가된 수를 더하는 내용이 확실히 이해가 가지 않아 나중에 정리해야할 것 같다.</p>
</blockquote>
<hr>
<p>2019.10.23 made by <em>jaejun.lee</em></p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Hackerrank/" rel="tag"># Hackerrank</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/hadoop-introduction_to_hadoop/" rel="prev" title="[Hadoop] Hadoop Overview">
      <i class="fa fa-chevron-left"></i> [Hadoop] Hadoop Overview
    </a></div>
      <div class="post-nav-item">
    <a href="/hadoop-install_hadoop_using_docker/" rel="next" title="[Hadoop] Install Hadoop using Docker">
      [Hadoop] Install Hadoop using Docker <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#OLAP-The-Total-view"><span class="nav-number">1.</span> <span class="nav-text">OLAP - The Total view</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#문제"><span class="nav-number">1.1.</span> <span class="nav-text">문제</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#풀이"><span class="nav-number">1.2.</span> <span class="nav-text">풀이</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#OLAP-OLAP-Operation-Types"><span class="nav-number">2.</span> <span class="nav-text">OLAP - OLAP Operation Types</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#문제-1"><span class="nav-number">2.1.</span> <span class="nav-text">문제</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#풀이-1"><span class="nav-number">2.2.</span> <span class="nav-text">풀이</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">JaeJun Lee</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">86</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/jaejuning" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;jaejuning" rel="noopener" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:jaejun.lee.1991@gmail.com" title="E-Mail → mailto:jaejun.lee.1991@gmail.com" rel="noopener" target="_blank"><i class="envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JaeJun Lee</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="//cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script>
<script src="//cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js"></script>
<script src="/js/algolia-search.js"></script>














  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://jjlee.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "https://jx2lee.github.io/hackerrank-olap/";
    this.page.identifier = "hackerrank-olap/";
    this.page.title = "[Database] OLAP";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://jjlee.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
